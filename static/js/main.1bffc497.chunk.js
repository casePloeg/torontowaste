(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),o=a.n(i),c=(a(15),a(1)),s=a(2),u=a(5),l=a(3),h=a(4),v=a(6),d=(a(17),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Toronto Waste Lookup"))}}]),t}(n.Component)),p=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={input:""},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"search",value:function(e){"Enter"===e.key?this.submitSearch():""===e.target.value?this.clearSearch():(e.persist(),this.setState(function(){return{input:e.target.value}}))}},{key:"submitSearch",value:function(){this.props.handleSearch(this.state.input)}},{key:"clearSearch",value:function(){this.props.clearSearch()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"searchBar"},r.a.createElement("input",{type:"text",onKeyUp:function(t){return e.search(t)}}),r.a.createElement("button",{type:"submit",onClick:function(){return e.submitSearch()}},r.a.createElement("i",{className:"fas fa-search fa-2x"})))}}]),t}(n.Component),m=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e="";return this.props.fav&&(e="f"),r.a.createElement("div",{className:"star "+e},r.a.createElement("i",{className:"fas fa-star"}))}}]),t}(n.Component),f=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleClick",value:function(){this.props.fav?this.props.handleRemoveFavourite({title:this.props.title,body:this.props.body}):this.props.handleNewFavourite({title:this.props.title,body:this.props.body})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"trashItem"},r.a.createElement("div",{className:"title"},r.a.createElement("div",{className:"star",onClick:function(){return e.handleClick()}},r.a.createElement(m,{fav:this.props.fav})),r.a.createElement("h3",null,this.props.title)),r.a.createElement("div",{className:"body",dangerouslySetInnerHTML:{__html:this.props.body}}))}}]),t}(n.Component),b=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.resultItems.map(function(t){return r.a.createElement(f,{key:t.title,body:t.body,title:t.title,fav:e.props.favourites.findIndex(function(e){return e.title===t.title})>-1,handleNewFavourite:e.props.handleNewFavourite,handleRemoveFavourite:e.props.handleRemoveFavourite})});return r.a.createElement("div",{className:"resultsList"},t)}}]),t}(n.Component),y=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.favourites.map(function(t){return r.a.createElement(f,{key:t.title,body:t.body,title:t.title,fav:!0,handleNewFavourite:e.props.handleNewFavourite,handleRemoveFavourite:e.props.handleRemoveFavourite})});return r.a.createElement("div",{className:"favourites"},r.a.createElement("h2",null,"Favourites"),t)}}]),t}(n.Component),j=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"Made with ",r.a.createElement("i",{class:"fas fa-heart"})," by"," ",r.a.createElement("a",{href:"https://caseploeg.com"},"Case Ploeg")))}}]),t}(n.Component),O=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={resultItems:[],favourites:[]},e.handleSearch=e.handleSearch.bind(Object(v.a)(Object(v.a)(e))),e.clearSearch=e.clearSearch.bind(Object(v.a)(Object(v.a)(e))),e.handleNewFavourite=e.handleNewFavourite.bind(Object(v.a)(Object(v.a)(e))),e.handleRemoveFavourite=e.handleRemoveFavourite.bind(Object(v.a)(Object(v.a)(e))),e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handleSearch",value:function(e){var t=new RegExp("\\s"+e+"\\s"),a=[];fetch("https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR?limit=1000").then(function(e){return e.json()}).then(function(e){e.forEach(function(e){(e.keywords.match(t)||e.title.match(t)||e.body.match(t))&&(e.body=e.body.replace(/&lt;/g,"<"),e.body=e.body.replace(/&gt;/g,">"),e.body=e.body.replace(/&amp;/g,"&"),e.body=e.body.replace(/&quot;/g,""),a.push(e))}),this.setState(function(e){return e.resultItems=a})}.bind(this))}},{key:"clearSearch",value:function(){this.setState(function(e){return e.resultItems=[]})}},{key:"handleNewFavourite",value:function(e){this.setState(function(t){return t.favourites.push(e)})}},{key:"handleRemoveFavourite",value:function(e){this.setState(function(t){var a=t.favourites.findIndex(function(t){return t.title===e.title});return a>-1?t.favourites.splice(a,1):t})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(p,{handleSearch:this.handleSearch,clearSearch:this.clearSearch}),r.a.createElement(b,{handleNewFavourite:this.handleNewFavourite,handleRemoveFavourite:this.handleRemoveFavourite,resultItems:this.state.resultItems,favourites:this.state.favourites}),this.state.favourites.length>0&&r.a.createElement(y,{handleNewFavourite:this.handleNewFavourite,handleRemoveFavourite:this.handleRemoveFavourite,favourites:this.state.favourites})),r.a.createElement(j,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(19)}},[[9,2,1]]]);
//# sourceMappingURL=main.1bffc497.chunk.js.map